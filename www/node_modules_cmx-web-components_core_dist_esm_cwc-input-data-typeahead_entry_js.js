"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_cmx-web-components_core_dist_esm_cwc-input-data-typeahead_entry_js"],{

/***/ 27345:
/*!********************************************************************************************!*\
  !*** ./node_modules/@cmx-web-components/core/dist/esm/commonComponentFeatures-b771e888.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "d": () => (/* binding */ destroyBasics),
/* harmony export */   "i": () => (/* binding */ initBasics)
/* harmony export */ });
function InitializeDirectionDetection(hostElement) {
    // the function that sets the dir in the shadow dom
    function executeDir(dir) {
        const shadowKids = hostElement.shadowRoot.childNodes;
        shadowKids.forEach(element => {
            element.setAttribute('dir', dir);
        });
    }
    function intervalHandler() {
        const actualDir = hostElement.dataset.dir;
        const dir = window.getComputedStyle(hostElement).getPropertyValue('direction');
        if (dir !== actualDir) {
            hostElement.dataset.dir = dir;
            hostElement.shadowRoot && executeDir(dir);
            if (dir === 'rtl') {
                return hostElement.setAttribute('rtl', 'true');
            }
            return hostElement.removeAttribute('rtl');
        }
    }
    hostElement['rtlInterval'] = setInterval(intervalHandler, 750);
}
function DestroyDirectionDetection(hostElement) {
    if (hostElement && hostElement['rtlInterval']) {
        clearInterval(hostElement['rtlInterval']);
    }
}

function setDesignVersion() {
    const frameworkVersion = getComputedStyle(document.documentElement).getPropertyValue('--cwc-version');
    return frameworkVersion ? frameworkVersion : 'v1';
}

function initBasics(componentClass) {
    !componentClass.designVersion && (componentClass.designVersion = setDesignVersion());
    if (!componentClass.rtl) {
        componentClass.host && InitializeDirectionDetection(componentClass.host);
    }
}
function destroyBasics(componentClass) {
    DestroyDirectionDetection(componentClass.host);
}




/***/ }),

/***/ 78702:
/*!******************************************************************************************!*\
  !*** ./node_modules/@cmx-web-components/core/dist/esm/cwc-input-data-typeahead.entry.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cwc_input_data_typeahead": () => (/* binding */ InputDataTypeahead)
/* harmony export */ });
/* harmony import */ var _core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core-cf426fab.js */ 98545);
/* harmony import */ var _commonComponentFeatures_b771e888_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./commonComponentFeatures-b771e888.js */ 27345);
/* harmony import */ var _helpers_bb43a8d9_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-bb43a8d9.js */ 94326);




var NavigationKeys;
(function (NavigationKeys) {
    NavigationKeys["ArrowUp"] = "ArrowUp";
    NavigationKeys["ArrowDown"] = "ArrowDown";
    NavigationKeys["Enter"] = "Enter";
    NavigationKeys["Escape"] = "Escape";
})(NavigationKeys || (NavigationKeys = {}));
const InputDataTypeahead = class {
    constructor(hostRef) {
        (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        /**
         * The design version of the framework
         */
        this.designVersion = null;
        /**
         * The options within the list
         */
        this.options = [];
        /**
         * Typeahead selection value
         */
        this.value = null;
        /**
         * Input label
         */
        this.label = '';
        /**
         * Input value palceholder
         */
        this.placeholder = 'Enter keywords';
        /**
         * When set, then debounce time will be applied after user writes into the input
         * (in miliseconds)
         */
        this.debounceTime = 0;
        /**
         * Specify whether component should render from right to left
         */
        this.rtl = false;
        /**
         * When set to true the element is disabled
         */
        this.disabled = false;
        /**
         * When set to true cwc-loader is displayed at the end of the field
         */
        this.loading = false;
        /**
         * When set to true the element is required and the label is decorated with an asterisk (*)
         */
        this.required = false;
        /**
         * Status of the form field.
         */
        this.status = 'regular';
        /**
         * Minimum length to trigger suggestions
         */
        this.minQueryLength = 1;
        /**
         * Disables the filtering in UI
         */
        this.disableSuggestions = false;
        /**
         * Specify if input label should render for mobile
         */
        this.mobile = false;
        /**
         * When set to true the component doesn't render form-group wrapper
         */
        this.unwrap = false;
        /**
         * This property sets the appereance variation of the input.
         */
        this.variant = 'regular';
        /**
         * This property sets the label for when there are no results for the entered query.
         */
        this.noOptionsLabel = 'No options available';
        /**
         * The overlay min width;
         */
        this.overlayMinWidth = '200px';
        /**
         * The overlay max width;
         */
        this.overlayMaxWidth = 'auto';
        /**
         * The overlay min height;
         */
        this.overlayMinHeight = '0px';
        /**
         * The overlay max heeight;
         */
        this.overlayMaxHeight = '220px';
        /**
         * The control value
         */
        this.controlValue = null;
        /**
         * Stores the position of the selected option for keyboard navigation
         */
        this.selectedOptionIndex = -1;
        /**
         * Defines if the window with options should be shown
         */
        this.showSuggestions = false;
        /**
         * Navigates the data list with the keyboard
         * @param key Event
         */
        this.navigateWithKeyboard = (e) => {
            e.preventDefault();
            const key = e.key;
            const keyboardNavigationMap = new Map([
                [NavigationKeys.ArrowUp, () => this.navigateWithArrowsKeys(NavigationKeys.ArrowUp)],
                [NavigationKeys.ArrowDown, () => this.navigateWithArrowsKeys(NavigationKeys.ArrowDown)],
                [NavigationKeys.Enter, () => this.selectOptionByEnter()],
                [NavigationKeys.Escape, () => (this.showSuggestions = false)],
            ]);
            const keyFn = keyboardNavigationMap.get(key);
            keyFn && keyFn();
        };
        this.selectOptionByEnter = () => {
            if (this.selectedOptionIndex >= 0) {
                this.selectOption(this.options[this.selectedOptionIndex]);
            }
        };
        this.onChange = (ev) => {
            ev.stopPropagation();
            if (ev.detail === null) {
                return;
            }
            this.controlValue = ev.detail;
            this.cwcQueryChange.emit(this.controlValue);
        };
        this.onInput = (ev) => {
            ev.preventDefault();
            ev.stopPropagation();
            const target = ev.target;
            const filterString = target.value;
            const fsLength = filterString.length;
            if (fsLength >= this.minQueryLength) {
                this.showSuggestions = true;
                this.controlValue = filterString;
            }
            else {
                this.showSuggestions = false;
                this.controlValue = null;
            }
        };
        this.onBlur = (ev) => {
            ev.stopPropagation();
            this.cwcBlur.emit();
        };
        this.onFocus = (ev) => {
            ev.stopPropagation();
            this.cwcFocus.emit();
        };
        this.resizeOverlayWithDebounce = (0,_helpers_bb43a8d9_js__WEBPACK_IMPORTED_MODULE_2__.d)(function () {
            const inputDims = this.inputEl.getBoundingClientRect();
            this.dropdownEl.style.width = `${inputDims.width}px`;
        }.bind(this));
        this.highlightOption = e => {
            const optionElement = e.target;
            const optionIndex = Array.from(this.dropdownEl.children).indexOf(optionElement);
            let hlRemoved = false;
            let hlAdded = false;
            for (let i = 0; i < this.options.length; i++) {
                const option = this.options[i];
                if (option.highlighted) {
                    option.highlighted = false;
                    this.dropdownEl.children[i].classList.remove('highlighted');
                    hlRemoved = true;
                }
                if (i === optionIndex) {
                    option.highlighted = true;
                    hlAdded = true;
                }
                if (hlRemoved && hlAdded) {
                    break;
                }
            }
            optionElement.classList.add('focused');
        };
        this.unHighlightOption = e => {
            const optionElement = e.target;
            optionElement.classList.remove('focused');
        };
        this.cwcInput = (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "cwcInput", 7);
        this.cwcQueryChange = (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "cwcQueryChange", 7);
        this.cwcOptionHighlighted = (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "cwcOptionHighlighted", 7);
        this.cwcSelect = (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "cwcSelect", 7);
        this.cwcBlur = (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "cwcBlur", 7);
        this.cwcFocus = (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "cwcFocus", 7);
    }
    setValue(newValue) {
        for (let i = 0; i < this.options.length; i++) {
            if (this.options[i].value === newValue.value) {
                this.selectedOptionIndex = i;
                this.controlValue = newValue.label;
                break;
            }
        }
    }
    onControlValueChange(newValue, oldValue) {
        if (newValue !== oldValue) {
            this.filterOptions();
        }
    }
    navigateWithArrowsKeys(key) {
        const down = key === NavigationKeys.ArrowDown ? true : false;
        let nextOption = null;
        let nextIndex = null;
        const sum = down ? 1 : -1;
        let move = true;
        let nextOptionIndex = this.selectedOptionIndex;
        const restartIndex = down ? 0 : this.options.length - 1;
        const rangeCheck = (down, index) => {
            return down ? index < this.options.length : index >= 0;
        };
        while (move) {
            nextOptionIndex = nextOptionIndex + sum;
            if (rangeCheck(down, nextOptionIndex)) {
                if (!this.options[nextOptionIndex].hidden) {
                    nextOption = this.options[nextOptionIndex];
                    nextIndex = nextOptionIndex;
                    move = false;
                }
            }
            else {
                nextOptionIndex = restartIndex - sum;
            }
        }
        if (nextOption) {
            this.selectedOptionIndex > -1 && this.dropdownEl.children[this.selectedOptionIndex].classList.remove('focused');
            this.selectedOptionIndex = nextIndex;
            const nextOptionEl = this.dropdownEl.children[this.selectedOptionIndex];
            nextOptionEl.classList.add('focused');
            nextOptionEl.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });
            this.cwcOptionHighlighted.emit(nextOption);
        }
    }
    selectOption(option) {
        if (option) {
            this.controlValue = option.label;
            this.cwcQueryChange.emit(this.controlValue);
            this.cwcSelect.emit(option);
        }
        this.showSuggestions = false;
    }
    filterOptions() {
        const nuOptions = [...this.options];
        // const isEmpty = false;
        let hiddenOptions = 0;
        nuOptions.forEach(option => {
            let match = false;
            if (this.controlValue && this.controlValue !== '') {
                match = (option.value + option.label).toLowerCase().includes(this.controlValue.toLowerCase());
            }
            option.hidden = !match;
            !match && hiddenOptions++;
        });
        this.allOptionsHidden = hiddenOptions === nuOptions.length;
        this.options = nuOptions;
    }
    componentWillLoad() {
        (0,_commonComponentFeatures_b771e888_js__WEBPACK_IMPORTED_MODULE_1__.i)(this);
    }
    disconnectedCallback() {
        (0,_commonComponentFeatures_b771e888_js__WEBPACK_IMPORTED_MODULE_1__.d)(this);
        window.removeEventListener('resize', this.resizeOverlayWithDebounce);
    }
    componentDidLoad() {
        if (this.value) {
            this.controlValue = this.value.label;
        }
        const inputDims = this.inputEl.getBoundingClientRect();
        this.dropdownEl.style.width = `${inputDims.width}px`;
        window.addEventListener('resize', this.resizeOverlayWithDebounce.bind(this));
    }
    render() {
        return ((0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `cwc-input-data-typeahead ${this.designVersion}` }, (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.h)("cwc-input", { ref: el => (this.inputEl = el), placeholder: this.placeholder, value: this.controlValue, disabled: this.disabled, required: this.required, status: this.status, statusMessage: this.statusMessage, label: this.label, "debounce-time": this.debounceTime, maxlength: this.maxQuerylength, loading: this.loading, onCwcChange: this.onChange, onCwcInput: this.onInput, onCwcFocus: this.onFocus, onCwcBlur: this.onBlur, onKeyUp: this.navigateWithKeyboard, style: { width: '100%' }, mobile: this.mobile, designVersion: this.designVersion, unwrap: this.unwrap, variant: this.variant }), (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: el => (this.dropdownEl = el), class: 'cwc-input-data-typeahead__options' +
                (this.showSuggestions ? ' animation' : ' hidden') +
                (this.unwrap ? ' cwc-input-data-typeahead__options--unwrap' : '') +
                (this.allOptionsHidden ? ' cwc-input-data-typeahead__options--empty' : ''), role: "listbox", "aria-expanded": this.showSuggestions, "aria-readonly": true, "aria-disabled": this.disableSuggestions, "data-no-options-label": this.noOptionsLabel, style: {
                minWidth: this.overlayMinWidth,
                maxWidth: this.overlayMaxWidth,
                minHeight: this.overlayMinHeight,
                maxHeight: this.showSuggestions ? this.overlayMaxHeight : '0px',
            } }, this.options.map(option => {
            return ((0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `suggestion ${option.selected ? 'selected' : ''} ${option.hidden ? 'hidden' : ''}`, onMouseEnter: this.highlightOption, onMouseLeave: this.unHighlightOption, onClick: () => {
                    this.selectOption(option);
                }, "attr-data-value": option.value }, option.label));
        }))));
    }
    get host() { return (0,_core_cf426fab_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
    static get watchers() { return {
        "value": ["setValue"],
        "controlValue": ["onControlValueChange"]
    }; }
    static get style() { return "*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:host{display:inline-block}.cwc-input-data-typeahead{font-family:inherit}.cwc-input-data-typeahead__options{background:var(--cwc-color-grayscale-white,#fff);border-radius:3px;-webkit-box-shadow:0 8px 13px rgba(0,0,0,.3);box-shadow:0 8px 13px rgba(0,0,0,.3);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:3001;margin-top:-1.25rem;padding:0 0;overflow-x:hidden;overflow-y:auto;-webkit-transition:max-height .5s,padding .5s;transition:max-height .5s,padding .5s;background-repeat:no-repeat;border-top:2px solid var(--cwc-color-status-info,#3fa9f5);background-size:100% 3px;background-position:0 0}.cwc-input-data-typeahead__options.animation{-webkit-animation:activate .35s linear 1;animation:activate .35s linear 1}.cwc-input-data-typeahead__options--empty:before{content:attr(data-no-options-label);display:block;padding:.5rem 1rem;color:#636c72}.cwc-input-data-typeahead__options.hidden{max-height:0;padding:0;border:none;-webkit-animation:deactivate .35s linear 1;animation:deactivate .35s linear 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;background-position:100% 0}.cwc-input-data-typeahead__options__wrapper{direction:ltr!important;height:5.4em;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;width:100%;max-width:150px;margin:auto}.cwc-input-data-typeahead__options--unwrap{margin-top:0}.cwc-input-data-typeahead__warning-message{text-align:center;padding:1.5rem 1rem}.cwc-input-data-typeahead__warning-message p{font-size:.75rem;color:var(--cwc-color-grayscale-dark,#333);margin:.5rem 0 0}.suggestion{display:block;padding:.5rem 1rem;font-size:1rem;cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:1rem;min-height:1rem}.suggestion.focused{background-color:var(--cwc-color-elements-table-row-active,#cce4f8)}.suggestion.hidden{display:none}::-webkit-scrollbar{width:12px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDRhNCA0IDAgMSAxIDggMEgweiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9Ii40Ii8+PC9zdmc+\"),url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBhNCA0IDAgMSAwIDggMEgweiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9Ii40Ii8+PC9zdmc+\"),url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0wIDBoOHY4SDB6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iLjQiLz48L3N2Zz4=\");background-repeat:no-repeat,no-repeat,no-repeat;background-position:top,bottom,50%;background-size:auto,auto,8px calc(100% - 8px)}::-webkit-scrollbar-thumb:hover{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDRhNCA0IDAgMSAxIDggMEgweiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9Ii42Ii8+PC9zdmc+\"),url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBhNCA0IDAgMSAwIDggMEgweiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9Ii42Ii8+PC9zdmc+\"),url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0wIDBoOHY4SDB6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iLjYiLz48L3N2Zz4=\")}.cwc-input-data-typeahead[dir=rtl]{font-family:inherit}\@-webkit-keyframes activate{0%{background-size:0 3px}to{background-size:100% 3px}}\@keyframes activate{0%{background-size:0 3px}to{background-size:100% 3px}}\@-webkit-keyframes deactivate{0%{background-size:100% 3px}to{background-size:0 3px}}\@keyframes deactivate{0%{background-size:100% 3px}to{background-size:0 3px}}"; }
};




/***/ })

}]);
//# sourceMappingURL=node_modules_cmx-web-components_core_dist_esm_cwc-input-data-typeahead_entry_js.js.map
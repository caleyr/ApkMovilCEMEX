{"version":3,"file":"src_app_pages_profile_profile_module_ts.js","mappings":"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","sources":["./src/app/pages/profile/modal-document-company/document-company/document-company.component.ts","./src/app/pages/profile/modal-document-driving-licence/document-driving-licence/document-driving-licence.component.ts","./src/app/pages/profile/modal-document-identity-card/document-identity-card/document-identity-card.component.ts","./src/app/pages/profile/modal-security-card/document-security-card/document-security-card.component.ts","./src/app/pages/profile/profile-routing.module.ts","./src/app/pages/profile/profile.module.ts","./src/app/pages/profile/profile.page.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-document-company',\r\n  templateUrl: './document-company.component.html',\r\n  styleUrls: ['./document-company.component.scss'],\r\n})\r\nexport class DocumentCompanyComponent implements OnInit {\r\n\r\n  @Input()urlDocumentCompanyFrontal= String;\r\n  @Input()showModalArchiveDocumentCompany: true;\r\n\r\n  @Output()\r\n  closeModalDocumentCompany: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeModalDocumentModalApp(){\r\n    this.closeModalDocumentCompany.emit();\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-document-driving-licence',\r\n  templateUrl: './document-driving-licence.component.html',\r\n  styleUrls: ['./document-driving-licence.component.scss'],\r\n})\r\nexport class DocumentDrivingLicenceComponent implements OnInit {\r\n\r\n  @Input()urlLicenceFrontal= String;\r\n  @Input()urlLicenceBack = String;\r\n  @Input()showModalDrivingLicence: false;\r\n\r\n  @Output()\r\n  closeModalLicence: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeModalDrivingLicence(){\r\n    this.closeModalLicence.emit();\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-document-identity-card',\r\n  templateUrl: './document-identity-card.component.html',\r\n  styleUrls: ['./document-identity-card.component.scss'],\r\n})\r\nexport class DocumentIdentityCardComponent implements OnInit {\r\n\r\n  @Input()urlIdentityCardFrontal= String;\r\n  @Input()urlIdentityCardBack = String;\r\n  @Input()showModalIdentityCard: false;\r\n\r\n  @Output()\r\n  closeModalIdentity: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeModalIdentityCard(){\r\n    this.closeModalIdentity.emit();\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-document-security-card',\r\n  templateUrl: './document-security-card.component.html',\r\n  styleUrls: ['./document-security-card.component.scss'],\r\n})\r\nexport class DocumentSecurityCardComponent implements OnInit {\r\n\r\n  @Input()urlSecurityCardFrontal = String;\r\n  @Input()showModalArchiveSecurityCard: true;\r\n\r\n  @Output()\r\n  closeModalSecurityCard: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeModalDocumentModalApp(){\r\n    this.closeModalSecurityCard.emit();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfilePage } from './profile.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProfilePage\r\n  },\r\n  {\r\n    path: 'update-archives',\r\n    loadChildren: () => import('./update-archives/update-archives.module').then( m => m.UpdateArchivesPageModule)\r\n  },\r\n  {\r\n    path: 'edit',\r\n    loadChildren: () => import('./edit/edit.module').then( m => m.EditPageModule)\r\n  },\r\n  {\r\n    path: 'edit',\r\n    loadChildren: () => import('./edit/edit.module').then( m => m.EditPageModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProfilePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProfilePageRoutingModule } from './profile-routing.module';\r\n\r\nimport { ProfilePage } from './profile.page';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { DocumentIdentityCardComponent } from './modal-document-identity-card/document-identity-card/document-identity-card.component';\r\n// eslint-disable-next-line max-len\r\nimport { DocumentDrivingLicenceComponent } from './modal-document-driving-licence/document-driving-licence/document-driving-licence.component';\r\nimport { DocumentCompanyComponent } from './modal-document-company/document-company/document-company.component';\r\nimport { DocumentSecurityCardComponent } from './modal-security-card/document-security-card/document-security-card.component';\r\nimport { LayoutPageModule } from '../layout/layout.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    ProfilePageRoutingModule,\r\n    LayoutPageModule\r\n  ],\r\n  declarations: [\r\n    ProfilePage,\r\n    DocumentCompanyComponent,\r\n    DocumentIdentityCardComponent,\r\n    DocumentDrivingLicenceComponent,\r\n    DocumentSecurityCardComponent,\r\n  ]\r\n})\r\nexport class ProfilePageModule {}\r\n","/* eslint-disable @typescript-eslint/no-unused-expressions */\r\nimport { Component, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\r\nimport { ActivationEnd, Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage-angular';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { User } from 'src/app/interfaces/user/user';\r\nimport { Profile } from 'src/app/models/profile.model';\r\nimport { ProfileService } from '../../services/profile/profile.service';\r\nimport { LoginService } from '../../services/auth/login.service';\r\nimport { CompaniesService } from '../../services/companies/companies.service';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit, OnDestroy {\r\n\r\n  profile : Profile = new Profile();\r\n\r\n  showModalArchiveDocumentCompany = false;\r\n  showModalIndentityCard = false;\r\n  showModalLicence = false;\r\n  showModalSecurityCardApp = false;\r\n  titleSubs: Subscription;\r\n  loading = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private loginService : LoginService,\r\n    private companiesService : CompaniesService\r\n  ) {\r\n\r\n    this.titleSubs = this.getTitleRuote().subscribe(event =>{\r\n       if(event === '/app/profile'){\r\n        this.loading = true;\r\n        this.profile = this.loginService.profileUser;\r\n        this.loading = false;\r\n       }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.titleSubs.unsubscribe();\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.loading = true;\r\n    this.profile = this.loginService.profileUser;\r\n    this.companiesService.getCompany(this.profile.CompanyId).subscribe(data=>{\r\n      this.profile.CompanyName = data.data.datacompanyName;      \r\n      this.loading = false;\r\n    });\r\n    //this.getDataUserProfile();\r\n  }\r\n  \r\n  getTitleRuote() {\r\n    return this.router.events\r\n      .pipe(\r\n        filter( event => event instanceof ActivationEnd ),\r\n        filter( (event: ActivationEnd) => event.snapshot.firstChild === null ),\r\n        map( (event: ActivationEnd) => event.snapshot['_routerState'].url),\r\n      );\r\n  }\r\n\r\n  /*\r\n  async getDataUserProfile(){\r\n    let urlactual = '';\r\n    this.loading = true;\r\n    await this.profileService.getDataUser(this.user.email).subscribe(async resp=>{\r\n      const rol =  resp.roles.map(item =>  item);\r\n      this.user.firstName = resp.user.firstName;\r\n      this.user.lastName = resp.user.lastName;\r\n      this.user.document = resp.user.document;\r\n      this.user.roles = rol.toString();\r\n      this.user.documentIdentityCardFrontal = resp.user.documentIdentityCardFrontal;\r\n      this.user.documentIdentityCardBack = resp.user.documentIdentityCardBack;\r\n\r\n      this.user.driver.codeSap = resp.codeSap;\r\n      this.user.driver.documentDrivinglicenseFrontal = resp.documentDrivinglicenseFrontal;\r\n      this.user.driver.documentDrivinglicenseBack = resp.documentDrivinglicenseBack;\r\n      this.user.driver.documentSecurityCard = resp.documentSecurityCard;\r\n\r\n      this.user.company.companyName = resp.companyName;\r\n      this.user.company.documentCompany = resp.documentCompany;\r\n\r\n      this.loading = false;\r\n   }, error =>{\r\n      this.loading = false;\r\n   });\r\n      urlactual = this.user.driver.documentDrivinglicenseFrontal;\r\n  }*/\r\n\r\n  showModalIndentity(){\r\n    if(this.profile.DocumentIdentityCard){\r\n      this.showModalIndentityCard = true;\r\n    }\r\n  }\r\n  showModalDocumentCompany(){\r\n    if(this.profile.SapCode){\r\n      this.showModalArchiveDocumentCompany = true;\r\n    }\r\n  }\r\n  showModalDrivingLicence(){\r\n     if(this.profile.Drivinglicense){\r\n         this.showModalLicence = true;\r\n       }\r\n  }\r\n  showModalSecurityCard(){\r\n    if(this.profile.SecurityCard ){\r\n        this.showModalSecurityCardApp = true;\r\n      }\r\n }\r\n  closeModalIdentity(){\r\n    this.showModalIndentityCard = false;\r\n  }\r\n  closeModalLicence(){\r\n    this.showModalLicence = false;\r\n  }\r\n  closeModalDocumentCompany(){\r\n    this.showModalArchiveDocumentCompany = false;\r\n  }\r\n  closeModalSecurityCard(){\r\n    this.showModalSecurityCardApp = false;\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}
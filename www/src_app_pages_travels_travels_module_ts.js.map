{"version":3,"file":"src_app_pages_travels_travels_module_ts.js","mappings":"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","sources":["./src/app/pages/travels/travels-routing.module.ts","./src/app/pages/travels/travels.module.ts","./src/app/pages/travels/travels.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TravelsPage } from './travels.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TravelsPage\n  },\n  {\n    path: 'search-list',\n    loadChildren: () => import('./search-list/search-list.module').then( m => m.SearchListPageModule)\n  },\n  {\n    path: 'detail-search',\n    loadChildren: () => import('./detail-search/detail-search.module').then( m => m.DetailSearchPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TravelsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TravelsPageRoutingModule } from './travels-routing.module';\n\nimport { TravelsPage } from './travels.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { CmxWebComponentsModule } from '@cmx-web-components/angular';\nimport { LayoutPageModule } from '../layout/layout.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TravelsPageRoutingModule,\n    ComponentsModule,\n    CmxWebComponentsModule.forRoot(),\n    ReactiveFormsModule,\n    LayoutPageModule,\n  ],\n  declarations: [TravelsPage]\n})\nexport class TravelsPageModule {}\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { TravelService } from '../../services/travels/travel.service';\r\nimport { NavController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-travels',\r\n  templateUrl: './travels.page.html',\r\n  styleUrls: ['./travels.page.scss'],\r\n})\r\nexport class TravelsPage implements OnInit {\r\n\r\n  sourceList : string[] = [];\r\n  departamentList : string[] = [];\r\n  dateList : string[] = [];\r\n  timeList : string[] = [];\r\n\r\n  source : string;\r\n  departament : string;\r\n  dataO : string;\r\n  timeO : string;\r\n\r\n  buttonActivate : boolean = false;\r\n\r\n  constructor(\r\n    private travelService : TravelService,\r\n    private navCtrl : NavController\r\n    ) { }\r\n\r\n  ngOnInit() {\r\n    this.getListDepartament();\r\n  }\r\n\r\n  getListDepartament(){\r\n    this.travelService.getTravels().subscribe(data=>{\r\n      this.departamentList = data.data.departamentSource;\r\n    });\r\n  }\r\n\r\n  changeDepartament(event){\r\n    if(event.detail.value == 0){\r\n      this.sourceList = [];\r\n      this.timeList = [];\r\n      this.dateList = [];\r\n      \r\n      this.departament = '';\r\n      this.source = '';\r\n      this.dataO = '';\r\n      this.timeO = '';\r\n    }else{\r\n      this.departament = event.detail.value;\r\n      this.travelService.getTravelsSource(event.detail.value).subscribe(data=>{\r\n        this.sourceList = data.data.source;\r\n      });\r\n    }    \r\n  }\r\n  \r\n  changeSource(event){\r\n    if(event.detail.value == 0){\r\n      this.timeList = [];\r\n      this.dateList = [];\r\n\r\n      this.source = '';\r\n      this.dataO = '';\r\n      this.timeO = '';\r\n    }else{\r\n      this.source = event.detail.value;\r\n      this.travelService.getTravelsDate(event.detail.value).subscribe(data=>{\r\n        this.dateList = data.data.dateTravel;\r\n      });\r\n    }    \r\n  }\r\n  \r\n  changeDate(event){\r\n    if(event.detail.value == 0){\r\n      this.timeList = [];\r\n      this.dataO = '';\r\n      this.timeO = '';\r\n    }else{\r\n      this.dataO = event.detail.value;\r\n      this.travelService.getTravelsForHour(event.detail.value).subscribe(data=>{\r\n        this.timeList = data.data.timerStar;\r\n      });\r\n    }\r\n  }\r\n\r\n  changeHour(event){\r\n    if(event.detail.value == 0){\r\n      this.buttonActivate = false;\r\n    }else{\r\n      this.timeO = event.detail.value;     \r\n      this.buttonActivate = true;\r\n    }\r\n  }\r\n\r\n  async searchTrips(){\r\n    const list = await this.getTravelListSearch();\r\n    if(list){\r\n      this.navCtrl.navigateRoot('/app/travels/search-list', { animated: false });\r\n    }\r\n  }\r\n\r\n  getTravelListSearch(){\r\n    return new Promise((resolved, reject)=>{\r\n      this.travelService.searchTravelList(this.departament, this.source, this.dataO, this.timeO).subscribe(data=>{\r\n        this.travelService.traveSearchList = data.data;\r\n        resolved(data);\r\n      })\r\n    });    \r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}